<!-- Level Progress Widget -->
{% if profile and level_progress %}
<div class="card border-info">
    <div class="card-header bg-info text-white">
        <h6 class="mb-0">
            <i class="fas fa-layer-group me-2"></i>Level Progress
        </h6>
    </div>
    <div class="card-body">
        <div class="text-center mb-3">
            <h3 class="mb-1">Level {{ profile.level }}</h3>
            <small class="text-muted">{{ "{:,}".format(profile.total_points) }} total points</small>
        </div>
        
        <div class="progress mb-2" style="height: 25px;">
            <div class="progress-bar bg-gradient-success progress-bar-striped progress-bar-animated" 
                 role="progressbar" 
                 style="width: {{ level_progress.percentage }}%;">
                {{ level_progress.percentage }}%
            </div>
        </div>
        
        <div class="d-flex justify-content-between small text-muted">
            <span>Level {{ profile.level }}</span>
            <span>Level {{ level_progress.next_level }}</span>
        </div>
        
        <div class="text-center mt-3">
            <div class="alert alert-light mb-0 py-2">
                <strong class="text-primary">{{ "{:,}".format(level_progress.points_to_next) }}</strong>
                <small class="text-muted">points to next level</small>
            </div>
        </div>
        
        <!-- Streak Info -->
        {% if profile.current_streak > 0 %}
        <div class="text-center mt-3 pt-3 border-top">
            <i class="fas fa-fire fa-2x text-danger mb-2"></i>
            <h4 class="mb-0">{{ profile.current_streak }}</h4>
            <small class="text-muted">Day Streak</small>
        </div>
        {% endif %}
    </div>
</div>
{% else %}
<div class="card border-secondary">
    <div class="card-body text-center text-muted">
        <i class="fas fa-layer-group fa-3x mb-2" style="opacity: 0.3;"></i>
        <p class="mb-0">No progress data available</p>
    </div>
</div>
{% endif %}

<style>
.bg-gradient-success {
    background: linear-gradient(135deg, #56ab2f 0%, #a8e063 100%);
}
</style>
